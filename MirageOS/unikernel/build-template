;; Generated by mirage.v4.3.2

(copy_files ./mirage/*)

(rule
 (target unikernel)
 (enabled_if (= %{context_name} "default"))
 (action
  (copy main.exe %{target})))

(executable
 (name main)
 (libraries cstruct lwt mirage-bootvar-unix mirage-clock-unix mirage-logs
   mirage-runtime mirage-unix ppx_cstruct tcpip.stack-socket
   tcpip.tcpv4v6-socket tcpip.udpv4v6-socket)
 (link_flags (-thread))
 (modules (:standard \ config))
 (flags :standard -w -70 -color always)
 (enabled_if (= %{context_name} "default"))
 (preprocess
  (pps ppx_cstruct))
)
